ssh-keygen
Result:
----
Generating public/private rsa key pair.
Enter file in which to save the key (/home/eltex-pg2-v8/.ssh/id_rsa): ssh_key
Your identification has been saved in ssh_key
Your public key has been saved in ssh_key.pub
The key fingerprint is:
SHA256:aTQWNvurc7FMlCbEyuQvvrzdo2920f/6w9BX7tRVwSM eltex-pg2-v8@eltex
----
ssh-copy-id -i ssh_key.pub root@172.16.9.208
Result:
-/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "ssh_key.pub"                   root@172.16.9.208's password:                                                                 Number of key(s) added: 1                                                             
N-ow try logging into the machine, with:   "ssh 'root@172.16.9.208'"                           and check to make sure that only the key(s) you wanted were added.
---
ls -l .ssh/authorized_keys
-rw------- 1 root root 1144 Mar 13 09:46 .ssh/authorized_keys
ls -l *.pub
-rw-r--r-- 1 eltex-pg2-v8 eltex-pg2-v8  572 Mar 13 16:32 ssh_key.pub 

useradd -m -s /bin/bash userV8
passwd userV8
adduser user1
        Full Name []: Vladimir
                                                                                                      Room Number []: 1^[[A
                                                                                                      Work Phone []: 1
                                                                                                      Home Phone []: 1
                                                                                                      Other []: 1
adduser2
usermod -s /usr/rbin/nologin user3
su user3
Result:
	su: failed to execute /usr/rbin/nologin: No such file or directory
su -s /bin/bash user3
exit
groupadd testGroup
usermod -aG testGroup user2
usermod -aG testGroup user3
usermod -aG testGroup userV8
groups user2
	user2: user2 users testGroup
groups user3
	user3: user3 users testGroup 
groups userv8
	userV8: userV8 users testGroup 

mkdir -p /opt/share
chown :testGroup /opt/share

total 4
drwxrws--- 2 root testGroup 4096 Mar 17 03:13 share
su userV8
echo umask 027 >> ~/.bashrc
echo "file bu user1" > /opt/share/file1.txt
su user2
echo "file by user2" > /opt/share/file2.txt
su user3
echo "file by user3" > /opt/share/file3.txt
ls -l /opt/share

total 12
-rw-r----- 1 userV8 testGroup 14 Mar 17 03:52 file1.txt
-rw-rw-r-- 1 user2  testGroup 14 Mar 17 03:29 file2.txt
-rw-rw-r-- 1 user3  testGroup 14 Mar 17 03:51 file3.txt
su user2
rm /opt/share/file1.txt
rm /opt/share/file3.txt
total 4
-rw-rw-r-- 1 user2 testGroup 14 Mar 17 03:29 file2.txt
chmod +t /opt/share
user2@eltex-practice2-pg2-v8:/root$ rm /opt/share/file1.txt
rm: remove write-protected regular file '/opt/share/file1.txt'? y
rm: cannot remove '/opt/share/file1.txt': Operation not permitted
su userV8
sudo dmesg

nano script.sh
chmod 4750 script.sh
chage -M 10 userV8
chage -M 10 user2
chage -M 10 user3
vi /etc/motd
Vladimir Zubenko
rsync -av /etc/ /root/etc_backup/
sent 69,649 bytes  received 260 bytes  139,818.00 bytes/sec
total size is 2,362,619  speedup is 33.80
tar -czvf /root/etc_backup.tar.gz -C /root etc_backup
tar -cjvf /root/etc_backup.tar.bz2 -C /root etc_backup2
7z a /root/etc_backup.7z /root/etc_backup
-rw-r--r-- 1 root root 4676407 Mar 17 04:49 /root/etc_backup.7z
-rw-r--r-- 1 root root  559980 Mar 17 04:47 /root/etc_backup.tar.bz2
-rw-r--r-- 1 root root  594893 Mar 17 04:42 /root/etc_backup.tar.gz
date >> /etc/motd
rsync -av /etc/ /root/etc_backup/
sending incremental file list

sent 69,645 bytes  received 260 bytes  139,810.00 bytes/sec
total size is 2,362,651  speedup is 33.80
tar -czvf /root/etc_backup_motd.tar.gz -C /root/etc_backup motd
motd
mkdir temp_bzip2
tar -xjf /root/etc_backup.tar.bz2 -C /root/temp_bzip2
diff -r /root/etc_backup /root/temp_bzip2/etc_backup
diff -r /root/etc_backup/motd /root/temp_bzip2/etc_backup/motd
2d1
< Mon Mar 17 04:53:22 AM UTC 2025
diff: /root/etc_backup/mtab: No such file or directory
diff: /root/temp_bzip2/etc_backup/mtab: No such file or directory
diff: /root/etc_backup/os-release: No such file or directory
diff: /root/temp_bzip2/etc_backup/os-release: No such file or directory
diff: /root/etc_backup/resolv.conf: No such file or directory
diff: /root/temp_bzip2/etc_backup/resolv.conf: No such file or directory


mkdir etc_backup_gzip
mkdir etc_backup_7z
tar -xzf /root/etc_backup.tar.gz -C /root/etc_backup_gzip
7z x /root/etc_backup.7z -o/root/etc_backup_7z
diff /root/etc_backup_gzip/etc_backup/motd /root/etc_backup_7z/etc_backup/motd

